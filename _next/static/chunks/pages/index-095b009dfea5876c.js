(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3817)}])},3817:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return A}});var r=n(85893),a=n(9008),s=n(7160),i=n.n(s),o=n(34295);function c(){return(0,r.jsxs)("nav",{className:"p-5 border-b-2 flex flex-row",children:[(0,r.jsx)("h1",{className:"py-4 px-4 font-bold text-3xl",children:" Decentralized Prediction Markets"}),(0,r.jsx)("div",{className:"ml-auto py-2 px-4",children:(0,r.jsx)(o.NL,{moralisAuth:!1})})]})}var u=n(34051),d=n.n(u),l=n(96301),m=n(83078),f=n(67294),x=n(35553),p=n(41664),h=n.n(p),g=n(1438),b=n(30928);function v(t,e,n,r,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function N(t){var e=(0,m.Nr)(),n=(e.account,e.chainId),a=(parseInt(n),t.marketAddress),s=((0,o.lm)(),(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getAsset",params:{}})),i=s.data,c=s.runContractFunction,u=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getEthBalance",params:{}}),p=u.data,N=u.runContractFunction,_=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getExpirationTime",params:{}}),y=_.data,j=_.runContractFunction,S=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getEntryFee",params:{}}),A=S.data,k=S.runContractFunction,w=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getDeployTime",params:{}}),E=w.data,C=(w.runContractFunction,(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getCutoffTime",params:{}})),T=C.data,P=C.runContractFunction,F=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getIsOpen",params:{}}),H=F.data,I=F.runContractFunction,X=(0,m.JX)({abi:l.instanceAbi,contractAddress:a,functionName:"getNumPlayers",params:{}}),J=X.data,M=X.runContractFunction,O=function(){var t,e=(t=d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:return t.sent.toString(),t.next=5,N();case 5:return t.sent.toString(),t.next=8,j();case 8:return t.sent.toString(),t.next=11,k();case 11:return t.sent.toString(),t.next=14,P();case 14:return t.sent.toString(),t.next=17,I();case 17:return t.sent.toString(),t.next=20,M();case 20:t.sent.toString();case 21:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function i(t){v(s,r,a,i,o,"next",t)}function o(t){v(s,r,a,i,o,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){O()}),[]);return(0,r.jsx)(h(),{href:{pathname:"/".concat(t.index),query:{asset:i?i.toString():"",ethBalance:p?p.toString():"",expirationTime:y?y.toString():"",entryFee:A?A.toString():"",deployTime:E?E.toString():"",cutoffTime:T?T.toString():"",open:H?H.toString():"",numPlayers:J?J.toString():"",marketAddress:a}},children:(0,r.jsx)("a",{children:(0,r.jsxs)("div",{className:H?"0"===H.toString()?"bg-lime-100 flex items-center pl-4 pr-8 py-4 my-2":"bg-red-100 flex items-center px-8 py-4 my-2":"",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mr-4",children:(0,r.jsx)("img",{className:"w-8 h-8 rounded-full",src:i&&"0"===i.toString()?"/ethereum.png":i&&"1"===i.toString()?"/bitcoin.png":"/doge.png"})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-400",children:["Asset: ",i?"0"===i.toString()?"ETH":"1"===i.toString()?"BTC":"DOGE":"No asset"]}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-400",children:["Entry Fee: ",A?x.bM(A.toString())+" ETH":"None found"]}),(0,r.jsxs)("p",{className:"flex text-sm text-gray-500 truncate dark:text-gray-400",children:[(0,r.jsx)("span",{className:"mr-5",children:"Predictions Cut Off:"})," ",T?(0,r.jsx)(b.Z,{cutoffTime:T.toString()}):"No cutoff Time"]}),(0,r.jsxs)("p",{className:"text-sm font-medium text-gray-900 truncate dark:text-gray-400",children:["What will the price be on: ",y?(0,g.P)(y.toString()):"No expiration time"]})]}),(0,r.jsxs)("div",{className:"text-base font-semibold text-gray-900 dark:text-gray-400",children:[(0,r.jsxs)("div",{children:["Entrants: ",J?J.toString():"No num players"]}),(0,r.jsxs)("div",{children:["Prize pool: ",p?x.bM(p.toString()):"0"," ETH"]})]})]})})})}function _(t,e,n,r,a,s,i){try{var o=t[s](i),c=o.value}catch(u){return void n(u)}o.done?e(c):Promise.resolve(c).then(r,a)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var s=t.apply(e,n);function i(t){_(s,r,a,i,o,"next",t)}function o(t){_(s,r,a,i,o,"throw",t)}i(void 0)}))}}function j(){var t=(0,m.Nr)(),e=t.Moralis,n=t.isWeb3Enabled,a=t.chainId,s=t.account,i=1337===parseInt(a)?31337:parseInt(a),o=i in l.contractAddresses?l.contractAddresses[i][0]:null,c=(0,f.useState)([]),u=c[0],x=c[1],p=(0,f.useState)(0),h=p[0],g=p[1];(0,f.useEffect)((function(){n&&(j(),S())}),[n,s]);var b=(0,m.JX)({abi:l.factoryAbi,contractAddress:o,functionName:"getNumMarkets",params:{}}),v=b.runContractFunction,_=b.data,j=function(){var t=y(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:t.sent.toString();case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=y(d().mark((function t(){var n,r,a,s,i,c;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("updateUIValues"),n=parseInt(_),r=h+5>n?n-h:5,console.log("marketsToSearch : ",r),console.log("get markets"),a=[],s=h;case 7:if(!(s<r+h)){t.next=16;break}return i={contractAddress:o,functionName:"getMarket",abi:l.factoryAbi,params:{_index:s}},t.next=11,e.executeFunction(i);case 11:c=t.sent.toString(),a.push(c);case 13:s++,t.next=7;break;case 16:g((function(t){return t+r})),x((function(t){return t.concat(a)}));case 18:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,r.jsxs)("div",{className:"p-5",children:[u.map((function(t,e){return(0,r.jsx)(N,{marketAddress:t,index:e},t)})),(0,r.jsx)("button",{onClick:S,className:"bg-transparent hover:bg-orange-500 text-orange-800 font-semibold hover:text-white py-2 px-4 border border-orange-500 hover:border-transparent rounded",children:"Load More"})]})}var S=["31337","5"];function A(){var t=(0,m.Nr)(),e=t.isWeb3Enabled,n=t.chainId;return(0,r.jsxs)("div",{className:i().container,children:[(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:"Create Next App"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(c,{}),e?(0,r.jsx)("div",{children:S.includes(parseInt(n).toString())?(0,r.jsx)("div",{className:"flex flex-row",children:(0,r.jsx)(j,{className:"p-8"})}):(0,r.jsx)("div",{children:"Please switch to a supported chainId. The supported Chain Ids are: ".concat(S)})}):(0,r.jsx)("div",{children:"Please connect to a Wallet"})]})}},7160:function(t){t.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},9008:function(t,e,n){t.exports=n(83121)}},function(t){t.O(0,[185,774,888,179],(function(){return e=78581,t(t.s=e);var e}));var e=t.O();_N_E=e}]);